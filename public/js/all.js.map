{"version":3,"sources":["app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"all.js","sourcesContent":["$(function() {\n    var apiKey = '16a4529960d0405a0f0a5e4a07c0ca70';\n    var baseUri = 'http://api.themoviedb.org/3/';\n    var baseImageUri = 'http://image.tmdb.org/t/p/w154';\n    var configUri = 'configuration';\n    var movieGenreList = 'genre/movie/list';\n    var genreMovies = 'genre/_id_/movies';\n    var movieSearch = 'search/movie';\n    var peopleSearch = 'search/person';\n    var personMovies = 'person/_id_/movie_credits';\n\n    var queryParams = {\n        api_key: apiKey,\n    };\n\n    $.get(baseUri + configUri, queryParams, function(data) {\n        config = data;\n    });\n\n    var movieGenres = $.get(baseUri + movieGenreList, queryParams, function(data) {\n        genres = data.genres;\n        var $movieGenreOption = $('.empty-genre');\n\n        $.each(genres, function(index, genre) {\n            $movieGenreOption.clone()\n                             .val(genre.id)\n                             .text(genre.name)\n                             .appendTo('.movie-genre');\n        });\n    });\n    \n    $('form.search-titles').on('submit', function(e) {\n        e.preventDefault();\n        var $titleResults = $('.title-results');\n\n        $titleResults.html('');\n\n        queryParams.query = $('.movie-title').val();\n\n        var movies = $.get(baseUri + movieSearch, queryParams, function(data) {\n            generateMovieResults(data.results, '.title-results');\n        });\n    });\n\n    $('form.search-genre').on('submit', function(e) {\n        e.preventDefault();\n        var $genreResults = $('.genre-results');\n        var genreId = $('.movie-genre').val();\n\n        $genreResults.html('');\n\n        queryParams.query = genreId;\n\n        var movies = $.get(baseUri + replaceUrlId(genreMovies, genreId), queryParams, function(data) {\n            generateMovieResults(data.results, '.genre-results');\n        });\n    });\n\n    $('form.search-people').on('submit', function(e) {\n        e.preventDefault();\n\n        $('.person-results').html('');\n\n        queryParams.query = $('input.person').val();\n\n        var movies = $.get(baseUri + peopleSearch, queryParams, function(data) {\n            $.each(data.results, function(index, value) {\n                var $newResult = $('.person-result-template').clone();\n                var imageSrc = baseImageUri + value.profile_path;\n\n                $('.person-link', $newResult).attr('href', value.id).data('name', value.name);\n                $('img.poster', $newResult).attr('src', imageSrc);\n                $('h4.name', $newResult).text(value.name);\n\n                $newResult.removeClass('person-result-template sr-only')\n                          .addClass('person-result')\n                          .appendTo('.person-results');\n            });\n\n            $('.person-link').click(function(e) {\n                e.preventDefault();\n\n                var personId = $(this).attr('href');\n                var personName = $(this).data('name');\n\n                $('.showing-results-for').removeClass('sr-only')\n                $('.showing-results-for span').text(personName);\n\n                delete queryParams.query;\n\n                var movies = $.get(baseUri + replaceUrlId(personMovies, personId), queryParams, function(data) {\n                    $('.person-results').addClass('sr-only');\n                    generateMovieResults(data.cast, '.person-movie-results');\n                });\n            });\n        });\n    });\n\n    function replaceUrlId(url, id) {\n        return url.replace('_id_', id);\n    }\n\n    function generateMovieResults(movies, appendTo) {\n        $.each(movies, function(index, value) {\n            var $newResult = $('.movie-result-template').clone();\n            var imageSrc = baseImageUri + value.poster_path;\n\n            $('input.mdb-id', $newResult).val(value.id);\n            $('input.title', $newResult).val(value.title);\n            $('input.rating', $newResult).val(value.vote_average);\n            $('input.overview', $newResult).val(value.overview);\n            $('input.image', $newResult).val(value.poster_path);\n\n            $('img.poster', $newResult).attr('src', imageSrc);\n            $('h2.title', $newResult).text(value.title);\n            $('p.rating', $newResult).text(value.vote_average);\n            $('p.overview', $newResult).text(value.overview);\n\n            $newResult.removeClass('movie-result-template sr-only')\n                      .addClass('movie-result')\n                      .appendTo(appendTo);\n        });\n    }\n});"],"sourceRoot":"/source/"}